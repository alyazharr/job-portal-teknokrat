{% extends 'base.html' %}
{% load static %}

{% block meta %}
  <title>Detail Lowongan</title>
  <link rel="stylesheet" href="{% static 'jobseeker/detail_lowongan_style.css' %}">
{% endblock meta %}

{% block content %}
  <div id="detail_lowongan" class="align-self-center w-75 m-3 d-flex flex-column gap-3 h-100">
    <a href="/list_lowongan" class="align-self-start mt-2 mb-2 btn fw-bold d-flex gap-2">
      <i class="bi bi-arrow-left"></i>
      <div>Cari Pekerjaan</div>
    </a>
    <div class='card p-4'>
      <img class="card-img-top m-2" style="max-width: 30px; max-height:30px;" src={% static '/images/default.png' %} alt="Card image cap">
      <h3 class="card-title fw-bold">{{ detail_lowongan.posisi }}</h3>
      <h5 class="card-subtitle fw-bold">{{ detail_lowongan.users_id.name }}</h5>
      <div class='mt-3 d-flex flex-column gap-1'>
        <div class="d-flex gap-2">
          <i class="bi bi-currency-dollar"></i>
          <div>Rp {{ detail_lowongan.gaji }}</div>
        </div>
        <div class="d-flex gap-2">
          <i class="bi bi-clock"></i>
          <div>Min {{ detail_lowongan.lama_pengalaman }} tahun pengalaman</div>
        </div>
        <div class="d-flex gap-2">
          <i class="bi bi-calendar2-range"></i>
          <div>{{ detail_lowongan.buka_lowongan }} s.d. {{ detail_lowongan.batas_pengumpulan }}</div>
        </div>
      </div>
    </div>
    <div class='card p-4'>
      <h5 class='card-title fw-bold'>Deskripsi</h5>
      <div class="card-text as">{{detail_lowongan.deskripsi|safe}}</div>
      <h5 class='card-title fw-bold'>Requirements</h5>
      <div class="card-text as">{{detail_lowongan.requirements|safe}}</div>
    </div>
    <form method="post">
      {% csrf_token %}
      <input 
        type="hidden" 
        id={{ form.lowongan_id.name }}
        name={{ form.lowongan_id.name }} 
        value={{ detail_lowongan.id }} 
      />
      <input 
        type="hidden" 
        id={{ form.users_id.name }}
        name={{ form.users_id.name }} 
        value={{ request.user.id }} 
      />
      {% if not already_lamar %}
        <input style='border-color:white' class="mt-3 btn btn-primary bg-base-red align-self-start" type="submit" value="Lamar" class="bg-base-red"/>
      {% else %}
        <input style='border-color:white' class="mt-3 btn btn-primary bg-base-red align-self-start disabled" type="submit" value="Telah Melamar" class="bg-base-red"/>
      {% endif %}
    </form>
  </div>
{% endblock %}